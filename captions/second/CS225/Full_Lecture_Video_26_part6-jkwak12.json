[{"text":"Ok, I'm going to do this kind of loosely at first, and then we'll talk- we'll kind of gradually edge toward more official discussion on it ok?","width":517},{"text":"The part of the tree that made this long, made this tall and stringy is in the middle of the tree.","width":479},{"text":"And the rotation just took that thing that's making it long and moved it over.","width":380},{"text":"K, so the solution to this is to do the following.","width":232},{"text":"Do- first do a left rotation, so that we change the balance of the left subtree, so we're going to make it- we're going to take the 50, 60 and kinda move it over so the stringiness is all in one direction, and then we're going to do a right rotation.","width":1283},{"text":"So this tree requires a double rotation in order to fix it.","width":465},{"text":"Alright, so let me- let me draw that all out, and we'll do the rotations and then we'll talk about what has happened here.","width":621},{"text":"So, the observation here is that we don't actually have a stick.","width":306},{"text":"We have a bent stick.","width":225},{"text":"K, the stick is bent.","width":77},{"text":"So what we're going to do is first, a rotation around 40, and then a right rotation- a left rotation around 40 and then a right rotation around 70.","width":920},{"text":"K, so ok I can do this.","width":204},{"text":"Ummm...","width":78},{"text":"Left rotation around 40 means that this is my stick for the moment.","width":528},{"text":"K, so I'm going to 50, 40, 60 and then I have to put 20 in the right spot on 40, and the rest of the tree still looks like this.","width":1196},{"text":"And this was a- oh, sorry, yeah a left rotation about 40.","width":557},{"text":"Left rotation.","width":79},{"text":"K?","width":67},{"text":"And now, when you look at this tree, oh it's very sticky.","width":878},{"text":"Now, it's a simple right rotation around that stick.","width":428},{"text":"So again, I'll race you.","width":179},{"text":"50, 40, 70, and then I attach 20, and I attach 60, and I attach 80.","width":981},{"text":"So this is to get to the next one is right about 70.","width":725},{"text":"Okay.","width":64},{"text":"I have questions for you.","width":425},{"text":"How long does it take to do a single left rotation?","width":382},{"text":"Constant time, good.","width":100},{"text":"Constant time.","width":206},{"text":"Because of those assignment statements.","width":133},{"text":"What about updating the heights?","width":344},{"text":"Hmm...","width":57},{"text":"It's also constant time, because you're storing the heights in the subtree.","width":240},{"text":"You don't have to do any- uh, you don't have to do any traversals to get those heights.","width":348},{"text":"So we're storing the heights in the subtrees so readjusting heights within a rotated subtree is a matter of within the stick, is a matter of just looking at the nodes in the subtrees.","width":764},{"text":"Kay, so rotations are constant time so what if we do two of them?","width":342},{"text":"It's still constant time, very good.","width":118},{"text":"Just a bigger constant.","width":78},{"text":"Where'd my machine go?","width":97},{"text":"Alright, so, rotations are constant time..","width":626}]