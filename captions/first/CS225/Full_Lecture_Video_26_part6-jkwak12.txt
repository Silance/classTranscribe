Ok, I'm going to do this kind of loosely at first, and then we'll talk- we'll kind of gradually edge toward more official discussion on it ok? The part of the tree that made this long, made this tall and stringy is in the middle of the tree. And the rotation just took that thing that's making it long and moved it over. K, so the solution to this is to do the following. Do- first do a left rotation, so that we change the balance of the left subtree, so we're going to make it- we're going to take the 50, 60 and kinda move it over so the stringiness is all in one direction, and then we're going to do a right rotation. So this tree requires a double rotation in order to fix it. Alright, so let me- let me draw that all out, and we'll do the rotations and then we'll talk about what has happened here. So, the observation here is that we don't actually have a stick. We have a bent stick. K, the stick is bent. So what we're going to do is first, a rotation around 40, and then a right rotation- a left rotation around 40 and then a right rotation around 70. K, so ok I can do this. Ummm... Left rotation around 40 means that this is my stick for the moment. K, so I'm going to 50, 40, 60 and then I have to put 20 in the right spot on 40, and the rest of the tree still looks like this. And this was a- oh, sorry, yeah a left rotation about 40. Left rotation. K? And now, when you look at this tree, oh it's very sticky. Now, it's a simple right rotation around that stick. So again, I'll race you. 50, 40, 70, and then I attach 20, and I attach 60, and I attach 80. So this is to get to the next one is right about 70. Okay. I have questions for you. How long does it take to do a single left rotation? Constant time, good. Constant time. Because of those assignment statements. What about updating the heights? Hmm... It's also constant time, because you're storing the heights in the subtree. You don't have to do any- uh, you don't have to do any traversals to get those heights. So we're storing the heights in the subtrees so readjusting heights within a rotated subtree is a matter of within the stick, is a matter of just looking at the nodes in the subtrees. Kay, so rotations are constant time so what if we do two of them? It's still constant time, very good. Just a bigger constant. Where'd my machine go? Alright, so, rotations are constant time..
