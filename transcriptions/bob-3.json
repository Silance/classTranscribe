[{"start":"0:00","end":"0:01","text":"Welcome"},{"start":"0:01","end":"0:06","text":"So let us start creating some files"},{"start":"0:06","end":"0:08","text":"for that we can use a system call open"},{"start":"0:08","end":"0:16","text":"and for open we need to say whether we want to say append to an existing file"},{"start":"0:16","end":"0:17","text":"create a brand new file"},{"start":"0:17","end":"0:20","text":"and we need to give it a filename"},{"start":"0:20","end":"0:23","text":"so for example we might have a filename called output"},{"start":"0:23","end":"0:24","text":".txt"},{"start":"0:24","end":"0:31","text":"so the open call takes two or three arguments"},{"start":"0:31","end":"0:34","text":"the second argument will be exactly what we want to do"},{"start":"0:34","end":"0:41","text":"so in this case we want to say create a brand new file and truncate it back to zero if it doesn't exist"},{"start":"0:41","end":"0:43","text":"so i want to truncate as well"},{"start":"0:43","end":"0:53","text":"if we are creating a new file we better say who can read this file and who can write to this file and who can execute this file"},{"start":"0:53","end":"0:58","text":"so we are going to have to say something about the mode flags "},{"start":"0:58","end":"1:00","text":"who is allowed to do what"},{"start":"1:00","end":"1:04","text":"finally this call is going to give us back an integer"},{"start":"1:04","end":"1:07","text":"a file descriptor just like we've seen so far"},{"start":"1:07","end":"1:09","text":"with file number one and file number two"},{"start":"1:09","end":"1:12","text":"so let's store that inside a little variable"},{"start":"1:12","end":"1:17","text":"so now i better actually find out what the correct syntax is"},{"start":"1:17","end":"1:22","text":"and the correct arguments are in order to create a file"},{"start":"1:22","end":"1:25","text":"so let us go and look that up"},{"start":"1:25","end":"1:28","text":"and that we will find inside the manual"},{"start":"1:28","end":"1:36","text":"and if for example i type man open on a command line on a real linux machine"},{"start":"1:36","end":"1:39","text":"it does not quite work yet in my small virtual one"},{"start":"1:39","end":"1:43","text":"we did not have enough memory to include all the manual pages here"},{"start":"1:43","end":"1:47","text":"so here is a linux manual page i found on the web for the open"},{"start":"1:47","end":"1:52","text":"and you will see here is the function signature here"},{"start":"1:52","end":"1:56","text":"where we are going to pass in an integer for the flags and the mode type"},{"start":"1:56","end":"2:03","text":"so i am going to look up now the flags i need to open and create a new file"},{"start":"2:03","end":"2:05","text":"i do not want to do an append"},{"start":"2:05","end":"2:11","text":"i want to use create and i want to truncate it as well"},{"start":"2:11","end":"2:14","text":"so let us include create create here"},{"start":"2:14","end":"2:21","text":"so i am going to say create which is a constant and i am going to bitwise or it with"},{"start":"2:21","end":"2:24","text":"the flag to say truncate "},{"start":"2:24","end":"2:26","text":"so let us look that up as well"},{"start":"2:26","end":"2:28","text":"truncate "},{"start":"2:28","end":"2:40","text":"alright and i want to say when i open it that i am going to open it for say reading and writing"},{"start":"2:40","end":"2:45","text":"so let us grab that as well"},{"start":"2:45","end":"2:47","text":"so that is the first hting"},{"start":"2:47","end":"2:49","text":"now we need to do the mode"},{"start":"2:49","end":"2:53","text":"so let us write this in a variable"},{"start":"2:53","end":"2:56","text":"and there is actually a typedef"},{"start":"2:56","end":"3:02","text":"it is essentially an integer but it is wrapped up in this type here called mode"},{"start":"3:02","end":"3:04","text":"mode_t"},{"start":"3:04","end":"3:13","text":"and we will say our file we want to be fairly private and only the owner of the file can access it "},{"start":"3:13","end":"3:16","text":"so let us get back and find those flags"},{"start":"3:16","end":"3:17","text":"where are you"},{"start":"3:17","end":"3:18","text":"here we go"},{"start":"3:18","end":"3:22","text":"alright so we will say that the user has read and write permission"},{"start":"3:22","end":"3:29","text":"okay so we will have "},{"start":"3:29","end":"3:31","text":"okay we will copy the read one"},{"start":"3:31","end":"3:37","text":"and we will have write permission as well"},{"start":"3:37","end":"3:44","text":"but no one else in my linux system will be allowed to read it and write it"},{"start":"3:44","end":"3:47","text":"that is the permissions we want"},{"start":"3:47","end":"3:50","text":"so what can we do with this"},{"start":"3:50","end":"3:55","text":"well let us write something out"},{"start":"3:55","end":"4:06","text":"this file we will write a little message great add a new line "},{"start":"4:06","end":"4:09","text":"so how many characters is that"},{"start":"4:09","end":"4:14","text":"we have got one two three four five six and a new line so that is seven characters"},{"start":"4:14","end":"4:18","text":"and then we will close this file descriptor"},{"start":"4:18","end":"4:22","text":"meaning we do not want to use this descriptor anymore"},{"start":"4:22","end":"4:30","text":"and that will ensure as well that all of the bytes that we sent to the file stream have been saved"},{"start":"4:30","end":"4:33","text":"so we are not doing any error checking right now"},{"start":"4:33","end":"4:39","text":"we are just trying to write the smallest possible program right now to create a file and send something to it"},{"start":"4:39","end":"4:43","text":"okay so let us run this and see what we get"},{"start":"4:43","end":"4:49","text":"and we will run into an error which is that we have not defined what this mode t is"},{"start":"4:49","end":"4:53","text":"what we forgot to do is to do the includes"},{"start":"4:53","end":"5:02","text":"the good news is that the man pages tell us which includes we need to put at the top of our program"},{"start":"5:02","end":"5:07","text":"so let us grab those an insert them in here"},{"start":"5:07","end":"5:10","text":"i will just get the formatting correct"},{"start":"5:10","end":"5:12","text":"and run it again"},{"start":"5:12","end":"5:20","text":"so our program ran"},{"start":"5:20","end":"5:24","text":"it is still printing hello to standard out and dot to standard error"},{"start":"5:24","end":"5:28","text":"but hopefully it simply created another file"},{"start":"5:28","end":"5:30","text":"let us have a look at that file"},{"start":"5:30","end":"5:38","text":"i could do ls and see if anything exists say starting with out"},{"start":"5:38","end":"5:41","text":"yes we have got output dot text"},{"start":"5:41","end":"5:43","text":"let us look at the contents of that file"},{"start":"5:43","end":"5:44","text":"and it says great"},{"start":"5:44","end":"5:45","text":"fantastic"},{"start":"5:45","end":"5:46","text":"so now it is your turn to play"},{"start":"5:46","end":"5:51","text":"create a file and see if you can send some bytes to that file"},{"start":"5:51","end":"5:54","text":"so you will be using open write and close"},{"start":"5:54","end":"5:55","text":"bye"}]