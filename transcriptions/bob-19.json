[{"start":"0:00","end":"0:02","text":"Hello welcome"},{"start":"0:02","end":"0:05","text":"so this video is a little introduction to signals"},{"start":"0:05","end":"0:08","text":"so signals are like a software interrupt"},{"start":"0:08","end":"0:13","text":"we can use them to control our processes and even do things asynchronously"},{"start":"0:13","end":"0:18","text":"so let's have a look at a little program i have written so far that doesn't use signals yet"},{"start":"0:18","end":"0:23","text":"all it does is ask for the environment of home"},{"start":"0:23","end":"0:25","text":"in other words the user's home directory"},{"start":"0:25","end":"0:29","text":"and then we have a little loop that prints it out and sleeps for three seconds"},{"start":"0:29","end":"0:34","text":"so every three seconds it is going to print out my home directory"},{"start":"0:34","end":"0:38","text":"and on this machine i am root so it just keeps on printing out slash root"},{"start":"0:38","end":"0:44","text":"so of course we can stop this program by pressing control c"},{"start":"0:44","end":"0:48","text":"and when you do that you actually are sending a signal"},{"start":"0:48","end":"0:53","text":"sigint or sig interrupt to the process"},{"start":"0:53","end":"0:56","text":"now maybe it might be that our process might not like being interrupted"},{"start":"0:56","end":"1:00","text":"why don't we catch that signal and install our own little handle for that"},{"start":"1:00","end":"1:02","text":"so here is how we will do this"},{"start":"1:02","end":"1:16","text":"i am going to say at the beginning of my program that if you get a certain signal say sigint "},{"start":"1:16","end":"1:21","text":"rather than having the default behavior which as we know is to stop the program or quit the program"},{"start":"1:21","end":"1:23","text":"let us run my code instead"},{"start":"1:23","end":"1:27","text":"so i will call it say nothankyou"},{"start":"1:27","end":"1:28","text":"so what is no thank you"},{"start":"1:28","end":"1:31","text":"it has to be a pointer to a function"},{"start":"1:31","end":"1:33","text":"how do we do that"},{"start":"1:33","end":"1:35","text":"easy just write a function"},{"start":"1:35","end":"1:39","text":"and in this case the correct type is something that doesn't return anything"},{"start":"1:39","end":"1:41","text":"but does take an integer"},{"start":"1:41","end":"1:45","text":"in fact it is the signal that is being sent to our program"},{"start":"1:45","end":"1:51","text":"and so that we know that this is being called let's write something out directly to standard output"},{"start":"1:51","end":"1:55","text":"so i can say write and i can say no"},{"start":"1:55","end":"1:59","text":"so what is that that is a little message of three bytes to send"},{"start":"1:59","end":"2:00","text":"so let's run this now"},{"start":"2:00","end":"2:04","text":"okay so here is my program every three seconds it is going to print root"},{"start":"2:04","end":"2:06","text":"but now i am going to press control c"},{"start":"2:06","end":"2:16","text":"and it prints no no so it's refusing to quit"},{"start":"2:16","end":"2:20","text":"you might also notice that the sleep also immediately returns"},{"start":"2:20","end":"2:21","text":"more about that later"},{"start":"2:21","end":"2:25","text":"it is still possible to stop our program here"},{"start":"2:25","end":"2:30","text":"if we do control backslash then we force it to quit"},{"start":"2:30","end":"2:34","text":"so sigint is one common signal that we send out programs"},{"start":"2:34","end":"2:35","text":"there are many others"},{"start":"2:35","end":"2:40","text":"just for fun let me show you one called sigalarm"},{"start":"2:40","end":"2:48","text":"so this time i am going to say alarm seven seconds"},{"start":"2:48","end":"2:57","text":"and so when you call alarm you are going to say give me a special signal called sigalrm in this many seconds"},{"start":"2:57","end":"2:59","text":"in seven seconds"},{"start":"2:59","end":"3:02","text":"and we better install then"},{"start":"3:02","end":"3:05","text":"well let's just run it and see what happens to begin with"},{"start":"3:05","end":"3:18","text":"so the default behavior of this sigalrm is to actually stop our program"},{"start":"3:18","end":"3:19","text":"it quits the program"},{"start":"3:19","end":"3:23","text":"that's a pretty aggressive alarm clock i think you'll agree"},{"start":"3:23","end":"3:26","text":"and it also as you see prints out alarm clock on the shell"},{"start":"3:26","end":"3:32","text":"perhaps we don't want our alarm signal to be so menacing"},{"start":"3:32","end":"3:37","text":"so this time instead of sigint i can say look for a certain signal called sigalrm"},{"start":"3:37","end":"3:40","text":"please call my function instead"},{"start":"3:40","end":"3:57","text":"okay so here we go our alarm went off after four seconds and this time we asynchronously ran our code that printed out no to standard out"},{"start":"3:57","end":"3:59","text":"so this is pretty exciting right"},{"start":"3:59","end":"4:03","text":"you probably thought about interrupts on the hardware level"},{"start":"4:03","end":"4:09","text":"now we can do interrupts at the software level and we can respond to things which happen in our environment very quickly"},{"start":"4:09","end":"4:16","text":"so we will find signals to be very useful when we start dealing working with more than one process"},{"start":"4:16","end":"4:22","text":"we can control our programs and we can also work with very large amounts of data coming in"},{"start":"4:22","end":"4:23","text":"that is enough for me"},{"start":"4:23","end":"4:23","text":"bye"}]