"[{"start":"0:00","end":"0:03","text":"so let's talk more about this file descriptor"},{"start":"0:03","end":"0:05","text":"i'm going to make my program be a little bit more useful"},{"start":"0:05","end":"0:07","text":"by printing out \"hello world\" a few times"},{"start":"0:07","end":"0:12","text":"so for example have a vraible count here"},{"start":"0:12","end":"0:17","text":"and a little for loop so i'll start with count =5"},{"start":"0:17","end":"0:19","text":"is count > 0"},{"start":"0:19","end":"0:22","text":"each time around the loop we're going to decrement count"},{"start":"0:22","end":"0:26","text":"so in C there is no boolean type"},{"start":"0:26","end":"0:32","text":"instead if I've got an int value which is non 0 that is treated as a true value"},{"start":"0:32","end":"0:39","text":"so I could actually write this more tersely by saying 'hey count'"},{"start":"0:39","end":"0:38","text":"meaning is count a non-0 value"},{"start":"0:38","end":"0:49","text":"and if you compare two things, you'll learn that with an int value of either 0 or 1 they are either the same or different"},{"start":"0:49","end":"0:51","text":"so we're going to print out \"hello world\" 5 times"},{"start":"0:51","end":"0:56","text":"and I want to show you just a little idea here"},{"start":"0:56","end":"1:02","text":"I've got 2 file descriptors which are valid when my program starts"},{"start":"1:02","end":"1:05","text":"and they are called 1 and 2"},{"start":"1:05","end":"1:09","text":"so why might it be useful to have 2 output streams?"},{"start":"1:09","end":"1:14","text":"we'll you can imagine we have a program that is calculating something"},{"start":"1:14","end":"1:18","text":"for example it's thinking of something to say or it's going to write to a file"},{"start":"1:18","end":"1:22","text":"but we may also want to display some error messages back to the user"},{"start":"1:22","end":"1:25","text":"or we might want to print some progress information"},{"start":"1:25","end":"1:33","text":"the first output stream identified by 1 is the standard output"},{"start":"1:33","end":"1:38","text":"and the second one is reserved for error messages"},{"start":"1:38","end":"1:47","text":"let's for example use this. instead of error messages we'll have a little dot"},{"start":"1:47","end":"1:46","text":"we'll run this"},{"start":"1:46","end":"1:52","text":"and if we've got everything correct we should see \"Hello\""},{"start":"1:52","end":"2:01","text":"ok, now, why do we see ./lib?"},{"start":"2:01","end":"2:06","text":"because we said I'm going to give you a pointer and I want you to take"},{"start":"2:06","end":"2:11","text":"the 6 bytes from it, so next 6 characters"},{"start":"2:11","end":"2:19","text":"and we just got whatever happened to be in memory after our ."},{"start":"2:19","end":"2:23","text":"so we only want the dot, so lets change that and run it again"},{"start":"2:23","end":"2:30","text":"and great, we've got \"Hello\" and \".Hello\""},{"start":"2:30","end":"2:31","text":"so right now both the standard output and standard error are going to different places"},{"start":"2:31","end":"2:37","text":"so we can actually change that over here in the console before we start a program"},{"start":"2:37","end":"2:42","text":"our terminal can control where the different output goes"},{"start":"2:42","end":"2:47","text":"so for example I might say I want to take the standard output and put that into a file"},{"start":"2:47","end":"2:49","text":"so \"output.txt\" "},{"start":"2:49","end":"2:58","text":"if I run this before the program starts I'm going to redirect it's output into this new file"},{"start":"2:58","end":"2:59","text":"so what we see on the console output "},{"start":"2:59","end":"3:03","text":"is anything written to standard error"},{"start":"3:03","end":"3:04","text":"the standard output is inside \"output.txt\""},{"start":"3:04","end":"3:09","text":"to prove it let me have a look at that file"},{"start":"3:09","end":"3:11","text":"let me cat the file"},{"start":"3:11","end":"3:13","text":"so \"output.txt\""},{"start":"3:13","end":"3:14","text":"and here it is"},{"start":"3:14","end":"3:16","text":"it says Hello x 5"},{"start":"3:16","end":"3:19","text":"now, rather than writing 1 and 2 over here"},{"start":"3:19","end":"3:22","text":"perhaps we should have some constants"},{"start":"3:22","end":"3:26","text":"which signify what these values actually mean"},{"start":"3:26","end":"3:31","text":"we could start to #define things"},{"start":"3:31","end":"3:36","text":"so I'll have a STDOUT_FILENO 1"},{"start":"3:36","end":"3:43","text":"and STDERR_FILENO 2"},{"start":"3:43","end":"3:48","text":"so anytime you do #define you're talking to the preprocessor"},{"start":"3:48","end":"3:59","text":"to say \"hey, in the future if you come across this character sequence then replace it with this value\""},{"start":"3:59","end":"4:04","text":"so we can compile this, except I've got a surprise for you"},{"start":"4:04","end":"4:12","text":"which is that these particular macros are already defined inside unistd.h"},{"start":"4:12","end":"4:16","text":"so I don't actually need to define them here in my program"},{"start":"4:16","end":"4:19","text":"so that's my little program"},{"start":"4:19","end":"4:22","text":"you see it's got a return value of 0"},{"start":"4:22","end":"4:27","text":"which is a convention for being correct and no errors"},{"start":"4:27","end":"4:31","text":"but it's up to us, we could choose a different value"},{"start":"4:31","end":"4:34","text":"for example we could choose the value 42"},{"start":"4:34","end":"4:39","text":"and I don't see an output value"},{"start":"4:39","end":"4:45","text":"but I can find out what the last exit value of the last process was"},{"start":"4:45","end":"4:46","text":"let me print out"},{"start":"4:46","end":"4:50","text":"happens to be some special variables"},{"start":"4:50","end":"4:54","text":"so \"echo $?\""},{"start":"4:54","end":"4:59","text":"which means give me the exit value or status of the last command run"},{"start":"4:59","end":"5:05","text":"we've covered quite a bit of ground"},{"start":"5:05","end":"5:14","text":"we've talked about how in C any non-0 integer is considered true"},{"start":"5:14","end":"5:16","text":"and 0 is considered false"},{"start":"5:16","end":"5:22","text":"and we've talked about these two different output streams"},{"start":"5:22","end":"5:25","text":"now It's your turn to play with this"},{"start":"5:25","end":"5:34","text":"after that let's have a go at creating some new files directly from C by making some system calls"},{"start":"5:34","end":"5:37","text":"have fun playing! bye"}]"